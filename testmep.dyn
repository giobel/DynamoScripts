<Workspace Version="1.3.1.1736" X="-2409.48092378956" Y="-965.309300687102" zoom="0.819249338322785" ScaleFactor="1" Name="Home" Description="" RunType="Manual" RunPeriod="1000" HasRunWithoutCrash="True">
  <NamespaceResolutionMap />
  <Elements>
    <Dynamo.Graph.Nodes.CustomNodes.Function guid="b5eb39a3-bb38-4746-80f5-07ba9a1e9fd5" type="Dynamo.Graph.Nodes.CustomNodes.Function" nickname="PipesFromDWGLines" x="806.5" y="474.5" isVisible="true" isUpstreamVisible="true" lacing="Shortest" isSelectedInput="False" IsFrozen="false" isPinned="false">
      <PortInfo index="0" default="False" />
      <PortInfo index="1" default="False" />
      <PortInfo index="2" default="False" />
      <PortInfo index="3" default="False" />
      <ID value="e8220529-d115-4bbe-aa97-b8e8b1ede82e" />
      <Name value="PipesFromDWGLines" />
      <Description value="" />
      <Inputs>
        <Input value="T" />
        <Input value="Elbow" />
        <Input value="Pipe Type" />
        <Input value="Levels" />
      </Inputs>
      <Outputs>
        <Output value="Pipes" />
        <Output value="Refernce" />
        <Output value="TPL" />
        <Output value="EPL" />
      </Outputs>
    </Dynamo.Graph.Nodes.CustomNodes.Function>
    <Dynamo.Graph.Nodes.CodeBlockNodeModel guid="b3048ca9-39b9-4901-87a5-29fbdb81d41e" type="Dynamo.Graph.Nodes.CodeBlockNodeModel" nickname="Code Block" x="1253.17022248443" y="678.863676702874" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="False" IsFrozen="false" isPinned="false" CodeText="T;" ShouldFocus="false">
      <PortInfo index="0" default="False" />
    </Dynamo.Graph.Nodes.CodeBlockNodeModel>
    <Dynamo.Graph.Nodes.CodeBlockNodeModel guid="8eb58911-ca3f-4d09-91dd-d0034e85fab3" type="Dynamo.Graph.Nodes.CodeBlockNodeModel" nickname="Code Block" x="1348.46905959381" y="907.018652043936" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="False" IsFrozen="false" isPinned="false" CodeText="Elbow;" ShouldFocus="false">
      <PortInfo index="0" default="False" />
    </Dynamo.Graph.Nodes.CodeBlockNodeModel>
    <Dynamo.Graph.Nodes.ZeroTouch.DSFunction guid="2e683f2f-af2d-4bd6-9e99-e882bc6074f5" type="Dynamo.Graph.Nodes.ZeroTouch.DSFunction" nickname="Flatten" x="1482.45692949182" y="638.909467684154" isVisible="true" isUpstreamVisible="true" lacing="Shortest" isSelectedInput="False" IsFrozen="false" isPinned="false" assembly="BuiltIn" function="Flatten@var[]..[]">
      <PortInfo index="0" default="False" />
    </Dynamo.Graph.Nodes.ZeroTouch.DSFunction>
    <Dynamo.Graph.Nodes.ZeroTouch.DSFunction guid="291eb874-6262-43f4-9b14-34434519e869" type="Dynamo.Graph.Nodes.ZeroTouch.DSFunction" nickname="Flatten" x="1502.81437258661" y="864.809302528893" isVisible="true" isUpstreamVisible="true" lacing="Shortest" isSelectedInput="False" IsFrozen="false" isPinned="false" assembly="BuiltIn" function="Flatten@var[]..[]">
      <PortInfo index="0" default="False" />
    </Dynamo.Graph.Nodes.ZeroTouch.DSFunction>
    <Dynamo.Graph.Nodes.ZeroTouch.DSFunction guid="3d86400a-83a9-4381-b3f2-58d913d4aac8" type="Dynamo.Graph.Nodes.ZeroTouch.DSFunction" nickname="List.Count" x="1825.88131066704" y="663.900705853968" isVisible="true" isUpstreamVisible="true" lacing="Shortest" isSelectedInput="False" IsFrozen="false" isPinned="false" assembly="DSCoreNodes.dll" function="DSCore.List.Count@var[]..[]">
      <PortInfo index="0" default="False" />
    </Dynamo.Graph.Nodes.ZeroTouch.DSFunction>
    <Dynamo.Graph.Nodes.ZeroTouch.DSVarArgFunction guid="dad7e943-f5ac-4803-9e81-7db3b9ec894f" type="Dynamo.Graph.Nodes.ZeroTouch.DSVarArgFunction" nickname="List.Join" x="1934.57734423607" y="935.335743853481" isVisible="true" isUpstreamVisible="true" lacing="Shortest" isSelectedInput="False" IsFrozen="false" isPinned="true" assembly="DSCoreNodes.dll" function="DSCore.List.Join@var[]..[]" inputcount="2">
      <PortInfo index="0" default="False" />
      <PortInfo index="1" default="False" />
    </Dynamo.Graph.Nodes.ZeroTouch.DSVarArgFunction>
    <Dynamo.Graph.Nodes.ZeroTouch.DSFunction guid="74ee182c-0a61-464a-8242-f98d82ec1c02" type="Dynamo.Graph.Nodes.ZeroTouch.DSFunction" nickname="List.Count" x="2109.05921670341" y="811.443397607029" isVisible="true" isUpstreamVisible="true" lacing="Shortest" isSelectedInput="False" IsFrozen="false" isPinned="false" assembly="DSCoreNodes.dll" function="DSCore.List.Count@var[]..[]">
      <PortInfo index="0" default="False" />
    </Dynamo.Graph.Nodes.ZeroTouch.DSFunction>
    <Dynamo.Graph.Nodes.ZeroTouch.DSFunction guid="2d668a5c-3f6b-4c00-bc72-bc9e4bffbe0d" type="Dynamo.Graph.Nodes.ZeroTouch.DSFunction" nickname="Element.Curves" x="2041.98605583515" y="1095.56686589228" isVisible="true" isUpstreamVisible="true" lacing="Shortest" isSelectedInput="False" IsFrozen="false" isPinned="true" assembly="RevitNodes.dll" function="Revit.Elements.Element.Curves">
      <PortInfo index="0" default="False" />
    </Dynamo.Graph.Nodes.ZeroTouch.DSFunction>
    <Dynamo.Graph.Nodes.CodeBlockNodeModel guid="d746350d-902f-4bdc-94ba-f8bf7931a819" type="Dynamo.Graph.Nodes.CodeBlockNodeModel" nickname="Code Block" x="2327.38293900859" y="1157.84762000146" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="False" IsFrozen="false" isPinned="false" CodeText="{0,1};" ShouldFocus="false" />
    <Dynamo.Graph.Nodes.ZeroTouch.DSFunction guid="29839026-be79-444b-9dcc-a1b406586a3d" type="Dynamo.Graph.Nodes.ZeroTouch.DSFunction" nickname="Element.GetParameterValueByName" x="1760.55814164217" y="1475.11157649133" isVisible="true" isUpstreamVisible="true" lacing="Shortest" isSelectedInput="False" IsFrozen="false" isPinned="false" assembly="RevitNodes.dll" function="Revit.Elements.Element.GetParameterValueByName@string">
      <PortInfo index="0" default="False" />
      <PortInfo index="1" default="False" />
    </Dynamo.Graph.Nodes.ZeroTouch.DSFunction>
    <Dynamo.Graph.Nodes.CodeBlockNodeModel guid="f99f8708-e14d-4ddd-809d-a6a6106fbc3b" type="Dynamo.Graph.Nodes.CodeBlockNodeModel" nickname="Code Block" x="1560.24435166439" y="1560.73696472471" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="False" IsFrozen="false" isPinned="false" CodeText="&quot;Type&quot;;" ShouldFocus="false" />
    <Dynamo.Graph.Nodes.CodeBlockNodeModel guid="2f2c834b-66fa-4285-a9c7-f7d422f51d66" type="Dynamo.Graph.Nodes.CodeBlockNodeModel" nickname="Code Block" x="2412.54273936573" y="668.890706327027" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="False" IsFrozen="false" isPinned="false" CodeText="{a,b};" ShouldFocus="false">
      <PortInfo index="0" default="False" />
      <PortInfo index="1" default="False" />
    </Dynamo.Graph.Nodes.CodeBlockNodeModel>
    <Dynamo.Graph.Nodes.ZeroTouch.DSFunction guid="ebb8d02d-91fa-453a-9cc8-6fb15c4d40a4" type="Dynamo.Graph.Nodes.ZeroTouch.DSFunction" nickname="Curve.PointAtParameter" x="2502.13282144988" y="913.502677330587" isVisible="true" isUpstreamVisible="true" lacing="CrossProduct" isSelectedInput="False" IsFrozen="false" isPinned="true" assembly="ProtoGeometry.dll" function="Autodesk.DesignScript.Geometry.Curve.PointAtParameter@double">
      <PortInfo index="0" default="False" useLevels="True" level="1" shouldKeepListStructure="False" />
      <PortInfo index="1" default="True" />
    </Dynamo.Graph.Nodes.ZeroTouch.DSFunction>
    <Dynamo.Graph.Nodes.ZeroTouch.DSFunction guid="5e1d84ee-e8f4-4469-9945-cbf25d793045" type="Dynamo.Graph.Nodes.ZeroTouch.DSFunction" nickname="Element.GetParameterValueByName" x="1758.92463544751" y="1622.8671419004" isVisible="true" isUpstreamVisible="true" lacing="Shortest" isSelectedInput="False" IsFrozen="false" isPinned="true" assembly="RevitNodes.dll" function="Revit.Elements.Element.GetParameterValueByName@string">
      <PortInfo index="0" default="False" />
      <PortInfo index="1" default="False" />
    </Dynamo.Graph.Nodes.ZeroTouch.DSFunction>
    <Dynamo.Graph.Nodes.CodeBlockNodeModel guid="d291d1d3-e4db-4794-a5a4-5186915d1eaa" type="Dynamo.Graph.Nodes.CodeBlockNodeModel" nickname="Code Block" x="1532.28852678986" y="1707.84156138397" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="False" IsFrozen="false" isPinned="false" CodeText="&quot;System Type&quot;;" ShouldFocus="false" />
    <Dynamo.Graph.Nodes.CodeBlockNodeModel guid="61fa45e2-e9d8-4c1e-8a45-df6083a13cf7" type="Dynamo.Graph.Nodes.CodeBlockNodeModel" nickname="Code Block" x="2803.80254832415" y="1100.3423860128" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="False" IsFrozen="false" isPinned="false" CodeText="Levels;" ShouldFocus="false">
      <PortInfo index="0" default="False" />
    </Dynamo.Graph.Nodes.CodeBlockNodeModel>
    <Dynamo.Nodes.DSModelElementsSelection guid="31e0ea65-187b-4ec5-95e5-b6ecb29a00f7" type="Dynamo.Nodes.DSModelElementsSelection" nickname="Select Model Elements" x="1662.33981157775" y="1131.06172083317" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="True" IsFrozen="false" isPinned="false">
      <instance id="88a0ecae-5201-4ae7-bf62-3ccf9c279210-00e6acef" />
      <instance id="88a0ecae-5201-4ae7-bf62-3ccf9c279210-00e6acfa" />
      <instance id="88a0ecae-5201-4ae7-bf62-3ccf9c279210-00e6ad14" />
      <instance id="88a0ecae-5201-4ae7-bf62-3ccf9c279210-00e6ad22" />
    </Dynamo.Nodes.DSModelElementsSelection>
    <Dynamo.Nodes.DSModelElementsSelection guid="f8d79d98-e2f7-4d34-a76e-34ef8d521cd2" type="Dynamo.Nodes.DSModelElementsSelection" nickname="Select Model Elements" x="1171.68520074249" y="1550.18233017725" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="True" IsFrozen="false" isPinned="false">
      <instance id="88a0ecae-5201-4ae7-bf62-3ccf9c279210-00e6ad34" />
    </Dynamo.Nodes.DSModelElementsSelection>
    <DSRevitNodesUI.Levels guid="407f6978-fef3-4916-8840-06a27d8440b3" type="DSRevitNodesUI.Levels" nickname="Levels" x="2744.62279246222" y="1314.15429091648" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="True" IsFrozen="false" isPinned="false" index="0:00" />
    <PythonNodeModels.PythonNode guid="bacc3111-4fde-46b3-bc7d-331e130295c8" type="PythonNodeModels.PythonNode" nickname="Python Script" x="3105.74146708098" y="667.488789117599" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="False" IsFrozen="false" isPinned="true" inputcount="4">
      <PortInfo index="0" default="False" />
      <PortInfo index="1" default="False" />
      <PortInfo index="2" default="False" />
      <PortInfo index="3" default="False" />
      <Script>import clr

clr.AddReference("RevitServices")
import RevitServices
from RevitServices.Persistence import DocumentManager
from RevitServices.Transactions import TransactionManager
doc = DocumentManager.Instance.CurrentDBDocument

clr.AddReference("RevitAPI")
import Autodesk
from Autodesk.Revit.DB import *

clr.AddReference("RevitNodes")
import Revit
clr.ImportExtensions(Revit.Elements)
clr.ImportExtensions(Revit.GeometryConversion)

toggle = ""

pts = IN[0]
pipetype = UnwrapElement(IN[1])
systemtype = UnwrapElement(IN[2])
level = UnwrapElement(IN[3])


elements = []

TransactionManager.Instance.EnsureInTransaction(doc)
for i in range(1,len(pts)):
	pipe = Autodesk.Revit.DB.Plumbing.Pipe.CreatePlaceholder(doc,systemtype.Id,pipetype.Id,level.Id,pts[i].ToXyz(),pts[i-1].ToXyz())
	elements.append(pipe.ToDSType(False))

TransactionManager.Instance.TransactionTaskDone()


OUT = elements
</Script>
    </PythonNodeModels.PythonNode>
    <PythonNodeModels.PythonNode guid="cf2bc74b-d34d-4f35-a127-9cb2fccf47f8" type="PythonNodeModels.PythonNode" nickname="Python Script" x="3079.06696679847" y="962.381684867384" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="False" IsFrozen="false" isPinned="true" inputcount="4">
      <PortInfo index="0" default="False" />
      <PortInfo index="1" default="False" />
      <PortInfo index="2" default="False" />
      <PortInfo index="3" default="False" />
      <Script>import clr

clr.AddReference("RevitServices")
import RevitServices
from RevitServices.Persistence import DocumentManager
from RevitServices.Transactions import TransactionManager
doc = DocumentManager.Instance.CurrentDBDocument

clr.AddReference("RevitAPI")
import Autodesk
from Autodesk.Revit.DB import *

clr.AddReference("RevitNodes")
import Revit
clr.ImportExtensions(Revit.Elements)
clr.ImportExtensions(Revit.GeometryConversion)

toggle = ""

pts = IN[0]
pipetype = UnwrapElement(IN[1])
systemtype = UnwrapElement(IN[2])
level = UnwrapElement(IN[3])


elements = []

TransactionManager.Instance.EnsureInTransaction(doc)
for i in range(0,len(pts)):
	pipe = Autodesk.Revit.DB.Plumbing.Pipe.CreatePlaceholder(doc,systemtype.Id,pipetype.Id,level.Id,pts[i][0].ToXyz(),pts[i][1].ToXyz())
	elements.append(pipe.ToDSType(False))

TransactionManager.Instance.TransactionTaskDone()


OUT = elements
</Script>
    </PythonNodeModels.PythonNode>
    <Dynamo.Graph.Nodes.CustomNodes.Function guid="e66b805e-6f65-4427-8060-a75886b39452" type="Dynamo.Graph.Nodes.CustomNodes.Function" nickname="PipesFromDWGLines" x="3366.81425922481" y="632.126398825533" isVisible="true" isUpstreamVisible="true" lacing="Shortest" isSelectedInput="False" IsFrozen="false" isPinned="false">
      <PortInfo index="0" default="False" />
      <PortInfo index="1" default="False" />
      <PortInfo index="2" default="False" />
      <PortInfo index="3" default="False" />
      <ID value="e8220529-d115-4bbe-aa97-b8e8b1ede82e" />
      <Name value="PipesFromDWGLines" />
      <Description value="" />
      <Inputs>
        <Input value="T" />
        <Input value="Elbow" />
        <Input value="Pipe Type" />
        <Input value="Levels" />
      </Inputs>
      <Outputs>
        <Output value="Pipes" />
        <Output value="Refernce" />
        <Output value="TPL" />
        <Output value="EPL" />
      </Outputs>
    </Dynamo.Graph.Nodes.CustomNodes.Function>
    <PythonNodeModels.PythonNode guid="ee81e5ac-4ced-4476-baf8-00c96fba04ba" type="PythonNodeModels.PythonNode" nickname="Python Script" x="3314.7447042007" y="1117.76794643908" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="False" IsFrozen="false" isPinned="true" inputcount="1">
      <PortInfo index="0" default="False" />
      <Script>import clr

clr.AddReference("RevitServices")
import RevitServices
from RevitServices.Persistence import DocumentManager
from RevitServices.Transactions import TransactionManager
doc = DocumentManager.Instance.CurrentDBDocument

clr.AddReference("RevitAPI")
import Autodesk
from Autodesk.Revit.DB import *

clr.AddReference("RevitNodes")
import Revit
clr.ImportExtensions(Revit.Elements)
clr.ImportExtensions(Revit.GeometryConversion)

clr.AddReference("System")
from System.Collections.Generic import List

pipes = UnwrapElement(IN[0])


elements = []

TransactionManager.Instance.EnsureInTransaction(doc)
	#pipe = Autodesk.Revit.DB.Plumbing.Pipe.Create(doc,systemtype.Id,pipetype.Id,level[0].Id,FirstPoint[i].ToXyz(),SecondPoint[i].ToXyz())
#pipe = Autodesk.Revit.DB.Plumbing.PlumbingUtils.ConvertPipePlaceholders(doc, col1)

for i in range(0,len(pipes)-1):
	pipe = Autodesk.Revit.DB.Plumbing.PlumbingUtils.ConnectPipePlaceholders(doc, pipes[i].Id)
	elements.append(pipe)


#elements.append(pipe.ToDSType(False))

TransactionManager.Instance.TransactionTaskDone()

OUT = elements, pipes
</Script>
    </PythonNodeModels.PythonNode>
    <Dynamo.Graph.Nodes.CodeBlockNodeModel guid="37e366aa-9d59-4cab-8a3c-6a1e82daf3f0" type="Dynamo.Graph.Nodes.CodeBlockNodeModel" nickname="Code Block" x="2752.46497982281" y="640.416337656163" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="False" IsFrozen="false" isPinned="true" CodeText="{a[0]};" ShouldFocus="false">
      <PortInfo index="0" default="False" />
    </Dynamo.Graph.Nodes.CodeBlockNodeModel>
    <Dynamo.Graph.Nodes.CodeBlockNodeModel guid="9cecf658-d1ed-4bf5-943b-eaaaf0a505ef" type="Dynamo.Graph.Nodes.CodeBlockNodeModel" nickname="Code Block" x="3190.91634857015" y="1207.27919075698" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="False" IsFrozen="false" isPinned="true" CodeText="{a[1]};" ShouldFocus="false">
      <PortInfo index="0" default="False" />
    </Dynamo.Graph.Nodes.CodeBlockNodeModel>
    <PythonNodeModels.PythonNode guid="4ed41662-c25c-4b7c-8c76-a6ee3cf47476" type="PythonNodeModels.PythonNode" nickname="Python Script" x="3540.68964248929" y="1200.18794907354" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="False" IsFrozen="false" isPinned="true" inputcount="4">
      <PortInfo index="0" default="False" />
      <PortInfo index="1" default="False" />
      <PortInfo index="2" default="False" />
      <PortInfo index="3" default="False" />
      <Script>import clr

clr.AddReference("RevitServices")
import RevitServices
from RevitServices.Persistence import DocumentManager
from RevitServices.Transactions import TransactionManager
doc = DocumentManager.Instance.CurrentDBDocument

clr.AddReference("RevitAPI")
import Autodesk
from Autodesk.Revit.DB import *

clr.AddReference("RevitNodes")
import Revit
clr.ImportExtensions(Revit.Elements)
clr.ImportExtensions(Revit.GeometryConversion)

toggle = ""

pts = IN[0]
pipetype = UnwrapElement(IN[1])
systemtype = UnwrapElement(IN[2])
level = UnwrapElement(IN[3])


elements = []

TransactionManager.Instance.EnsureInTransaction(doc)
for i in range(0,len(pts)):
	pipe = Autodesk.Revit.DB.Plumbing.Pipe.CreatePlaceholder(doc,systemtype.Id,pipetype.Id,level.Id,pts[i][0].ToXyz(),pts[i][1].ToXyz())
	elements.append(pipe.ToDSType(False))

TransactionManager.Instance.TransactionTaskDone()


OUT = elements
</Script>
    </PythonNodeModels.PythonNode>
    <Dynamo.Graph.Nodes.ZeroTouch.DSFunction guid="8ae2338a-a4a3-46e7-9642-c553d3275039" type="Dynamo.Graph.Nodes.ZeroTouch.DSFunction" nickname="Element.GetParameterValueByName" x="3508.98460394794" y="948.012016245002" isVisible="true" isUpstreamVisible="true" lacing="Shortest" isSelectedInput="False" IsFrozen="false" isPinned="true" assembly="RevitNodes.dll" function="Revit.Elements.Element.GetParameterValueByName@string">
      <PortInfo index="0" default="False" />
      <PortInfo index="1" default="False" />
    </Dynamo.Graph.Nodes.ZeroTouch.DSFunction>
    <Dynamo.Graph.Nodes.CodeBlockNodeModel guid="3a86b4ca-59d4-49b0-95ce-7c4991554254" type="Dynamo.Graph.Nodes.CodeBlockNodeModel" nickname="Code Block" x="3336.26983173306" y="1031.65771337339" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="False" IsFrozen="false" isPinned="false" CodeText="&quot;System Type&quot;;" ShouldFocus="false" />
    <Dynamo.Graph.Nodes.ZeroTouch.DSFunction guid="2bdcbbb9-8dae-402a-a735-43fb9bae97fb" type="Dynamo.Graph.Nodes.ZeroTouch.DSFunction" nickname="Element.SetParameterByName" x="3931.24401345712" y="806.229957781706" isVisible="true" isUpstreamVisible="true" lacing="Shortest" isSelectedInput="False" IsFrozen="false" isPinned="true" assembly="RevitNodes.dll" function="Revit.Elements.Element.SetParameterByName@string,var">
      <PortInfo index="0" default="False" />
      <PortInfo index="1" default="False" />
      <PortInfo index="2" default="False" />
    </Dynamo.Graph.Nodes.ZeroTouch.DSFunction>
    <Dynamo.Graph.Nodes.CodeBlockNodeModel guid="4f262b17-be93-48d8-abde-15c78d1af802" type="Dynamo.Graph.Nodes.CodeBlockNodeModel" nickname="Code Block" x="3798" y="961" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="False" IsFrozen="false" isPinned="false" CodeText="a[0];" ShouldFocus="false">
      <PortInfo index="0" default="False" />
    </Dynamo.Graph.Nodes.CodeBlockNodeModel>
    <Dynamo.Graph.Nodes.CodeBlockNodeModel guid="9c1e0272-d920-48dd-989e-f461caf2182c" type="Dynamo.Graph.Nodes.CodeBlockNodeModel" nickname="Code Block" x="2757" y="865.904339907318" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="False" IsFrozen="false" isPinned="true" CodeText="{a[0][0],a[0][1],a[1][1]};" ShouldFocus="false">
      <PortInfo index="0" default="False" />
    </Dynamo.Graph.Nodes.CodeBlockNodeModel>
    <PythonNodeModels.PythonNode guid="068fe2c3-9000-4f9c-947b-cd21448d83e9" type="PythonNodeModels.PythonNode" nickname="Python Script" x="3296.37076031073" y="849.495979511144" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="False" IsFrozen="false" isPinned="true" inputcount="1">
      <PortInfo index="0" default="False" />
      <Script>import clr

clr.AddReference("RevitServices")
import RevitServices
from RevitServices.Persistence import DocumentManager
from RevitServices.Transactions import TransactionManager
doc = DocumentManager.Instance.CurrentDBDocument

clr.AddReference("RevitAPI")
import Autodesk
from Autodesk.Revit.DB import *

clr.AddReference("RevitNodes")
import Revit
clr.ImportExtensions(Revit.Elements)
clr.ImportExtensions(Revit.GeometryConversion)

toggle = ""

pts = IN[0]
pipetype = UnwrapElement(IN[1])
systemtype = UnwrapElement(IN[2])
level = UnwrapElement(IN[3])


elements = []

TransactionManager.Instance.EnsureInTransaction(doc)
for i in range(0,len(pts)):
	pipe = Autodesk.Revit.DB.Plumbing.Pipe.CreatePlaceholder(doc,systemtype.Id,pipetype.Id,level.Id,pts[i][0].ToXyz(),pts[i][1].ToXyz())
	elements.append(pipe.ToDSType(False))

TransactionManager.Instance.TransactionTaskDone()


OUT = elements
</Script>
    </PythonNodeModels.PythonNode>
    <PythonNodeModels.PythonNode guid="540371ea-bef0-4c95-9c32-f3dedae6814b" type="PythonNodeModels.PythonNode" nickname="Python Script" x="3432.5149889307" y="1571.79484434223" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="False" IsFrozen="false" isPinned="true" inputcount="2">
      <PortInfo index="0" default="False" />
      <PortInfo index="1" default="False" />
      <Script>import clr

clr.AddReference("RevitServices")
import RevitServices
from RevitServices.Persistence import DocumentManager
from RevitServices.Transactions import TransactionManager
doc = DocumentManager.Instance.CurrentDBDocument

clr.AddReference("RevitAPI")
import Autodesk
from Autodesk.Revit.DB import *

clr.AddReference("RevitNodes")
import Revit
clr.ImportExtensions(Revit.Elements)
clr.ImportExtensions(Revit.GeometryConversion)

toggle = ""

pl = IN[0]

systemtype = UnwrapElement(IN[1])



elements = []

TransactionManager.Instance.EnsureInTransaction(doc)
#for i in range(0,len(pts)):
	#pipe = Autodesk.Revit.DB.Plumbing.Pipe.CreatePlaceholder(doc,systemtype.Id,pipetype.Id,level.Id,pts[i][0].ToXyz(),pts[i][1].ToXyz())
	#elements.append(pipe.ToDSType(False))

#pipe = Autodesk.Revit.DB.Plumbing.PipingSystem.Create(doc, systemtype.Id, "ciao")

#pipe.Add(placeholders[0])
#elements.append(pipe.ToDSType(False))




TransactionManager.Instance.TransactionTaskDone()


OUT = elements
</Script>
    </PythonNodeModels.PythonNode>
    <Dynamo.Graph.Nodes.CodeBlockNodeModel guid="7c56e762-5daf-4abc-b87c-eb1825787237" type="Dynamo.Graph.Nodes.CodeBlockNodeModel" nickname="Code Block" x="3273.94754059836" y="1432.19194031114" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="False" IsFrozen="false" isPinned="true" CodeText="a[0];" ShouldFocus="false">
      <PortInfo index="0" default="False" />
    </Dynamo.Graph.Nodes.CodeBlockNodeModel>
    <Dynamo.Graph.Nodes.ZeroTouch.DSFunction guid="d304cf84-1f5d-40ab-9ca3-d4fd7dc3baf3" type="Dynamo.Graph.Nodes.ZeroTouch.DSFunction" nickname="Element.GetParameterValueByName" x="3772.34883250997" y="1440.68741101301" isVisible="true" isUpstreamVisible="true" lacing="Shortest" isSelectedInput="False" IsFrozen="false" isPinned="true" assembly="RevitNodes.dll" function="Revit.Elements.Element.GetParameterValueByName@string">
      <PortInfo index="0" default="False" />
      <PortInfo index="1" default="False" />
    </Dynamo.Graph.Nodes.ZeroTouch.DSFunction>
    <Dynamo.Graph.Nodes.CodeBlockNodeModel guid="88c54702-d5c9-4cd5-bba9-da472b2b7ab0" type="Dynamo.Graph.Nodes.CodeBlockNodeModel" nickname="Code Block" x="3641.63990157814" y="1579.19432348231" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="False" IsFrozen="false" isPinned="false" CodeText="&quot;MEPCurve&quot;;" ShouldFocus="false" />
    <Dynamo.Graph.Nodes.CustomNodes.Function guid="387e0cc8-dea9-4e16-b129-1a7b07bd247a" type="Dynamo.Graph.Nodes.CustomNodes.Function" nickname="Element.Domain" x="3186.43031086713" y="1737.33347603427" isVisible="true" isUpstreamVisible="true" lacing="Shortest" isSelectedInput="False" IsFrozen="false" isPinned="true">
      <PortInfo index="0" default="False" />
      <ID value="2bb08bb5-35ea-43ad-8ae8-10f3513597ae" />
      <Name value="Element.Domain" />
      <Description value="Returns the domain of connectors on the element i.e. (domainHvac, domainPiping etc.)" />
      <Inputs>
        <Input value="Element" />
      </Inputs>
      <Outputs>
        <Output value="Domain" />
      </Outputs>
    </Dynamo.Graph.Nodes.CustomNodes.Function>
    <PythonNodeModels.PythonNode guid="15af1437-cf9d-4047-8d30-a61777c75ab9" type="PythonNodeModels.PythonNode" nickname="Python Script" x="3454.96882497859" y="1762.96669783582" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="False" IsFrozen="false" isPinned="false" inputcount="1">
      <PortInfo index="0" default="False" />
      <Script>import clr
clr.AddReference('ProtoGeometry')
from Autodesk.DesignScript.Geometry import *

#The inputs to this node will be stored as a list in the IN variables.
if isinstance(IN[0],list):
	toggle = 0
	element = UnwrapElement(IN[0])
else:
	toggle = 1
	element = [UnwrapElement(IN[0])]

def getDomain(elem):
	try:
		connectors = elem.ConnectorManager.Connectors
	except:
		connectors = elem.MEPModel.ConnectorManager.Connectors
	
	if connectors.Size &lt; 2:	
		for conn in connectors:
			connector = conn
			break
		return connector.Domain
	else:
		domain = []
		for conn in connectors:
			domain.append(conn.Domain)
		return domain

listout = []	
for x in element:
	try:
		domains = getDomain(x)
		listout.append(domains)
	except:
		listout.append(None)
#Assign your output to the OUT variable.
if toggle:
	OUT = domains
else:
	OUT = listout</Script>
    </PythonNodeModels.PythonNode>
  </Elements>
  <Connectors>
    <Dynamo.Graph.Connectors.ConnectorModel start="b3048ca9-39b9-4901-87a5-29fbdb81d41e" start_index="0" end="2e683f2f-af2d-4bd6-9e99-e882bc6074f5" end_index="0" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="8eb58911-ca3f-4d09-91dd-d0034e85fab3" start_index="0" end="291eb874-6262-43f4-9b14-34434519e869" end_index="0" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="2e683f2f-af2d-4bd6-9e99-e882bc6074f5" start_index="0" end="3d86400a-83a9-4381-b3f2-58d913d4aac8" end_index="0" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="2e683f2f-af2d-4bd6-9e99-e882bc6074f5" start_index="0" end="dad7e943-f5ac-4803-9e81-7db3b9ec894f" end_index="0" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="291eb874-6262-43f4-9b14-34434519e869" start_index="0" end="74ee182c-0a61-464a-8242-f98d82ec1c02" end_index="0" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="291eb874-6262-43f4-9b14-34434519e869" start_index="0" end="dad7e943-f5ac-4803-9e81-7db3b9ec894f" end_index="1" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="3d86400a-83a9-4381-b3f2-58d913d4aac8" start_index="0" end="2f2c834b-66fa-4285-a9c7-f7d422f51d66" end_index="0" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="74ee182c-0a61-464a-8242-f98d82ec1c02" start_index="0" end="2f2c834b-66fa-4285-a9c7-f7d422f51d66" end_index="1" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="2d668a5c-3f6b-4c00-bc72-bc9e4bffbe0d" start_index="0" end="ebb8d02d-91fa-453a-9cc8-6fb15c4d40a4" end_index="0" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="d746350d-902f-4bdc-94ba-f8bf7931a819" start_index="0" end="ebb8d02d-91fa-453a-9cc8-6fb15c4d40a4" end_index="1" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="29839026-be79-444b-9dcc-a1b406586a3d" start_index="0" end="4ed41662-c25c-4b7c-8c76-a6ee3cf47476" end_index="1" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="29839026-be79-444b-9dcc-a1b406586a3d" start_index="0" end="cf2bc74b-d34d-4f35-a127-9cb2fccf47f8" end_index="1" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="f99f8708-e14d-4ddd-809d-a6a6106fbc3b" start_index="0" end="29839026-be79-444b-9dcc-a1b406586a3d" end_index="1" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="ebb8d02d-91fa-453a-9cc8-6fb15c4d40a4" start_index="0" end="37e366aa-9d59-4cab-8a3c-6a1e82daf3f0" end_index="0" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="ebb8d02d-91fa-453a-9cc8-6fb15c4d40a4" start_index="0" end="9c1e0272-d920-48dd-989e-f461caf2182c" end_index="0" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="ebb8d02d-91fa-453a-9cc8-6fb15c4d40a4" start_index="0" end="cf2bc74b-d34d-4f35-a127-9cb2fccf47f8" end_index="0" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="5e1d84ee-e8f4-4469-9945-cbf25d793045" start_index="0" end="4ed41662-c25c-4b7c-8c76-a6ee3cf47476" end_index="2" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="5e1d84ee-e8f4-4469-9945-cbf25d793045" start_index="0" end="cf2bc74b-d34d-4f35-a127-9cb2fccf47f8" end_index="2" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="5e1d84ee-e8f4-4469-9945-cbf25d793045" start_index="0" end="540371ea-bef0-4c95-9c32-f3dedae6814b" end_index="1" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="d291d1d3-e4db-4794-a5a4-5186915d1eaa" start_index="0" end="5e1d84ee-e8f4-4469-9945-cbf25d793045" end_index="1" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="31e0ea65-187b-4ec5-95e5-b6ecb29a00f7" start_index="0" end="2d668a5c-3f6b-4c00-bc72-bc9e4bffbe0d" end_index="0" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="f8d79d98-e2f7-4d34-a76e-34ef8d521cd2" start_index="0" end="29839026-be79-444b-9dcc-a1b406586a3d" end_index="0" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="f8d79d98-e2f7-4d34-a76e-34ef8d521cd2" start_index="0" end="5e1d84ee-e8f4-4469-9945-cbf25d793045" end_index="0" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="407f6978-fef3-4916-8840-06a27d8440b3" start_index="0" end="4ed41662-c25c-4b7c-8c76-a6ee3cf47476" end_index="3" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="407f6978-fef3-4916-8840-06a27d8440b3" start_index="0" end="cf2bc74b-d34d-4f35-a127-9cb2fccf47f8" end_index="3" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="cf2bc74b-d34d-4f35-a127-9cb2fccf47f8" start_index="0" end="8ae2338a-a4a3-46e7-9642-c553d3275039" end_index="0" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="cf2bc74b-d34d-4f35-a127-9cb2fccf47f8" start_index="0" end="2bdcbbb9-8dae-402a-a735-43fb9bae97fb" end_index="0" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="cf2bc74b-d34d-4f35-a127-9cb2fccf47f8" start_index="0" end="068fe2c3-9000-4f9c-947b-cd21448d83e9" end_index="0" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="cf2bc74b-d34d-4f35-a127-9cb2fccf47f8" start_index="0" end="7c56e762-5daf-4abc-b87c-eb1825787237" end_index="0" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="9cecf658-d1ed-4bf5-943b-eaaaf0a505ef" start_index="0" end="4ed41662-c25c-4b7c-8c76-a6ee3cf47476" end_index="0" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="8ae2338a-a4a3-46e7-9642-c553d3275039" start_index="0" end="4f262b17-be93-48d8-abde-15c78d1af802" end_index="0" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="3a86b4ca-59d4-49b0-95ce-7c4991554254" start_index="0" end="8ae2338a-a4a3-46e7-9642-c553d3275039" end_index="1" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="3a86b4ca-59d4-49b0-95ce-7c4991554254" start_index="0" end="2bdcbbb9-8dae-402a-a735-43fb9bae97fb" end_index="1" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="4f262b17-be93-48d8-abde-15c78d1af802" start_index="0" end="2bdcbbb9-8dae-402a-a735-43fb9bae97fb" end_index="2" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="9c1e0272-d920-48dd-989e-f461caf2182c" start_index="0" end="bacc3111-4fde-46b3-bc7d-331e130295c8" end_index="0" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="7c56e762-5daf-4abc-b87c-eb1825787237" start_index="0" end="d304cf84-1f5d-40ab-9ca3-d4fd7dc3baf3" end_index="0" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="7c56e762-5daf-4abc-b87c-eb1825787237" start_index="0" end="540371ea-bef0-4c95-9c32-f3dedae6814b" end_index="0" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="7c56e762-5daf-4abc-b87c-eb1825787237" start_index="0" end="387e0cc8-dea9-4e16-b129-1a7b07bd247a" end_index="0" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="7c56e762-5daf-4abc-b87c-eb1825787237" start_index="0" end="15af1437-cf9d-4047-8d30-a61777c75ab9" end_index="0" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="88c54702-d5c9-4cd5-bba9-da472b2b7ab0" start_index="0" end="d304cf84-1f5d-40ab-9ca3-d4fd7dc3baf3" end_index="1" portType="0" />
  </Connectors>
  <Notes />
  <Annotations />
  <Presets />
  <Cameras>
    <Camera Name="Background Preview" eyeX="-17" eyeY="24" eyeZ="50" lookX="12" lookY="-13" lookZ="-58" upX="0" upY="1" upZ="0" />
  </Cameras>
</Workspace>